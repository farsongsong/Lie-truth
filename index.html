<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ê±°ì§“ë§ íƒì§€ê¸°</title>
<style>
  body {
    background: #111;
    color: white;
    text-align: center;
    font-family: sans-serif;
  }

  .machine {
    width: 300px;
    height: 400px;
    background: #333;
    border-radius: 20px;
    margin: 40px auto;
    padding: 20px;
  }

  .pad {
    width: 200px;
    height: 120px;
    background: #555;
    border-radius: 20px;
    margin: 20px auto;
  }

  .lights {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 20px;
  }

  .light {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #222;
  }

  .spin .light {
    animation: blink 0.3s infinite alternate;
  }

  @keyframes blink {
    from { background: red; }
    to { background: yellow; }
  }

  button {
    padding: 12px 20px;
    font-size: 16px;
  }
</style>
</head>
<body>

<h2>ê±°ì§“ë§ íƒì§€ê¸°</h2>

<div class="machine">
  <div class="lights" id="lights">
    <div class="light"></div>
    <div class="light"></div>
    <div class="light"></div>
  </div>

  <div class="pad"></div>

  <button onclick="start()">ì¸¡ì • ì‹œì‘</button>
  <h3 id="result"></h3>
</div>

<audio id="startSound" src="sounds/start.mp3"></audio>
<audio id="truthSound" src="sounds/truth.mp3"></audio>
<audio id="lieSound" src="sounds/lie.mp3"></audio>

<script>
function start() {
  const lights = document.getElementById("lights");
  const result = document.getElementById("result");

  result.textContent = "";
  lights.classList.add("spin");
  document.getElementById("startSound").play();

  setTimeout(() => {
    lights.classList.remove("spin");

    const isTruth = Math.random() < 0.5;

    if (isTruth) {
      result.textContent = "âœ… ì§„ì‹¤ì…ë‹ˆë‹¤";
      document.getElementById("truthSound").play();
    } else {
      result.textContent = "âŒ ê±°ì§“ì…ë‹ˆë‹¤";
      document.getElementById("lieSound").play();

      // ğŸ“³ ê°•í•œ ì§„ë™
      if (navigator.vibrate) {
        navigator.vibrate([300, 100, 300, 100, 500]);
      }
    }
  }, 3000); // ë¹°ë¹ ë¹ ë¹° ë„ëŠ” ì‹œê°„
}
</script>

</body>
</html>
